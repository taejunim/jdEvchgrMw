<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="jdEvchgrMw.chgrInfo.service.impl.ChgrInfoMapper">

    <update id="chgrInfoUpdate" parameterType="chgrInfoVO" >

        UPDATE chgr

           SET SPEED_TP_CD      = #{speedTpCd}
             , GPS_XPOS         = #{gpsXpos}
             , GPS_YPOS         = #{gpsYpos}
             , CHGR_TYPE_CD     = #{chgrTypeCd}
             , MF_CD            = #{mfCd}
             , M2M_MF_CD        = #{m2mMfCd}
             , RF_MF_CD         = #{rfMfCd}
             , M2M_TEL          = #{m2mTel}
             , VAN_IP           = #{vanIp}
             , VAN_PORT         = #{vanPort}
             , OFFLINE_FREE_WH  = #{offlineFreeWh}
             , MW_SESSION       = #{mwSession}
             , MOD_UID          = #{modUid}
             , PAYING_YN        = #{payingYn}
             , CH_QTY           = #{chQty}
             , MOD_DT           = now()

         WHERE 1=1

           AND PROVIDER_ID      = #{providerId}
           AND ST_ID            = #{stId}
           AND CHGR_ID          = #{chgrId}

    </update>

    <insert id="chgrChInfoInsUpdate" parameterType="chgrInfoVO" >

        INSERT INTO chgr_ch_info

                SET PROVIDER_ID     = #{providerId}
                  , ST_ID           = #{stId}
                  , CHGR_ID         = #{chgrId}
                  , CH_ID           = #{chId}
                  , PLUG_TYPE_CD    = #{plugTypeCd}

                 ON DUPLICATE KEY UPDATE
                  , PLUG_TYPE_CD    = #{plugTypeCd}


    </insert>

    <insert id="chgrFwVerInfoInsUpdate" parameterType="chgrInfoVO" >

        INSERT INTO chgr_fw_ver_info

                SET PROVIDER_ID     = #{providerId}
                  , ST_ID           = #{stId}
                  , CHGR_ID         = #{chgrId}
                  , FW_TP           = #{fwType}

                 ON DUPLICATE KEY UPDATE
                  , VER    = #{currVer}

    </insert>

</mapper>